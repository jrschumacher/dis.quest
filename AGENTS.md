# AGENTS.md

This project enables authenticated user experiences using [ATProtocol](https://atproto.com) and [Bluesky](https://bsky.app), built in Go. It uses lexicons to define data structures and interactions within the app view.

---

## ğŸ§­ Project Philosophy

- Users authenticate with ATProtocol and manage their own data via their Personal Data Server (PDS).
- Each user's data is structured using lexicons and stored in their own PDS whenever possible.
- The app aims for lightweight, interoperable experiences within the ATProtocol ecosystem.

---

## ğŸ›  Contributor Guidelines

### ğŸ§¾ Commits and PRs

- Follow [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) for all commit messages and pull request titles.

### ğŸ§¹ Formatting and Quality

- Run `gofmt` and `goimports` before committing.
- If `.templ` files are changed, run `templ generate`.
- Always test and lint before submitting:
  - `go test ./...`
  - `golangci-lint run` (if installed)

---

## ğŸ§± Project Stack

| Concern         | Tool                        |
|-----------------|-----------------------------|
| **Database**    | `sqlc`                      |
| **HTML Views**  | `templ`                     |
| **UI Runtime**  | `datastar` (server-side)    |
| **Styling**     | Pico CSS (minimal)          |
| **Frameworks**  | Avoid React or heavy JS     |
| **Logging**     | Use `internal/logger`       |

---

## ğŸ” Auth & Data Model

- **Authentication** uses ATProtocol and Bluesky identity.
- Each user's lexicon data must be stored in their **own PDS**, with the exception of:
  - Public data (e.g. `Topic` fields) that is shared across users.
- All interactions, updates, and data writes are scoped to the authenticated user.

---

## ğŸ“ Generated Files

These generated files must be committed:

- `*_templ.go` (from `templ`)
- Code generated by `sqlc`
